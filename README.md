# CardVault

Офлайн Android-приложение для хранения карт лояльности. Аналог Stocard.

## Возможности

- **Полностью офлайн** — работает без интернета, все данные хранятся локально
- **Сканер штрих-кодов** — сканирование камерой EAN-13, EAN-8, Code128, QR и других форматов
- **Генерация штрих-кодов** — встроенные генераторы без внешних зависимостей
- **Категории** — сортировка карт по категориям (магазины, еда, АЗС, аптеки)
- **Импорт/Экспорт** — резервное копирование в JSON
- **Тёмная тема** — современный дизайн

## Скриншоты

```
┌─────────────────────┐    ┌─────────────────────┐
│  CardVault          │    │  Сканировать        │
│  ──────────────     │    │  ┌───────────────┐  │
│  [Все] [Магазины]   │    │  │   📷 Камера   │  │
│                     │    │  │               │  │
│  ┌─────────────┐    │    │  │   ▢▢▢▢▢▢▢    │  │
│  │ М │ Магнит  │    │    │  └───────────────┘  │
│  │   │ 2890... │ >  │    │                     │
│  └─────────────┘    │    │  Наведите камеру    │
│                     │    │  на штрих-код       │
│  ┌─────────────┐    │    │                     │
│  │ П │ Пятёроч │    │    │  [Отмена] [Исполь.] │
│  │   │ 4607... │ >  │    │                     │
│  └─────────────┘    │    └─────────────────────┘
│                (+)  │
└─────────────────────┘
```

## Технологии

- **Android (Java)** — нативная обёртка WebView
- **Vanilla JavaScript** — без фреймворков
- **IndexedDB** — локальное хранение данных
- **html5-qrcode** — сканирование штрих-кодов камерой
- **Встроенные генераторы** — EAN-13, EAN-8, Code128, QR

## Структура проекта

```
cardvault/
├── app/
│   └── src/main/
│       ├── AndroidManifest.xml
│       ├── assets/
│       │   ├── index.html           # Основное веб-приложение
│       │   └── html5-qrcode.min.js  # Библиотека сканера
│       ├── java/.../MainActivity.java
│       └── res/
├── .github/workflows/build.yml      # CI/CD
└── README.md
```

## Сборка

### Требования

- Android Studio или Gradle
- JDK 11+
- Android SDK 24+

### Команды

```bash
# Debug сборка
./gradlew assembleDebug

# Release сборка
./gradlew assembleRelease

# Очистка
./gradlew clean
```

APK появится в `app/build/outputs/apk/debug/app-debug.apk`

## Использование

### Добавление карты

1. Нажмите **+** в правом нижнем углу
2. **Сканируйте** штрих-код камерой или введите номер вручную
3. Укажите название магазина
4. Выберите категорию и цвет
5. Нажмите **Сохранить**

### Просмотр карты

1. Нажмите на карту в списке
2. Покажите штрих-код на кассе
3. Используйте слайдер яркости при необходимости

### Резервное копирование

1. Откройте **Настройки** (шестерёнка)
2. **Экспорт** — сохранит все карты в JSON файл
3. **Импорт** — загрузит карты из JSON файла

## Поддерживаемые форматы

| Формат | Сканирование | Генерация |
|--------|:------------:|:---------:|
| EAN-13 | ✅ | ✅ |
| EAN-8 | ✅ | ✅ |
| Code 128 | ✅ | ✅ |
| QR-код | ✅ | ✅ |
| Code 39 | ✅ | — |
| UPC-A | ✅ | — |
| UPC-E | ✅ | — |

## Разрешения

- `CAMERA` — для сканирования штрих-кодов

## Лицензия

MIT
